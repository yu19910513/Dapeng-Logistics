<nav class="uk-navbar-container" uk-navbar>
    <div class="uk-navbar-center">
        <div class="uk-navbar-item">
            {{!-- link to other pages --}}
        </div>

        <div class="uk-navbar-item">
            <form class="uk-search uk-search-default">
                <span uk-search-icon></span>
                {{#if china}}
                    <input class="uk-search-input form-control search-input" type="search" placeholder="Search" data-table="chinaTable">
                {{else}}
                    {{#if amazon}}
                        <input class="uk-search-input form-control search-input" type="search" placeholder="Search" data-table="containerTable">
                    {{else}}
                        <input class="uk-search-input form-control search-input" type="search" placeholder="Search" data-table="skuTable">
                    {{/if}}
                {{/if}}
            </form>
        </div>

        <div class="uk-navbar-item">
            {{!-- <a class="btn btn-sm btn-outline-danger" id='file_btn' href="#modal-files" uk-toggle uk-tooltip=".pdf, .zip, .rar">夹带档案</a>
            <a class="btn btn-sm btn-outline-success" href="#modal-notes" uk-toggle uk-tooltip="Notes">附注留言</a> --}}
        </div>

        <a id="js-modal-confirm" class="btn btn-primary shadow-sm" onclick="validation_request()" uk-icon="arrow-right" uk-tooltip="Complete Request">finish delete request</a>

    </div>
</nav>

<div class="container mt-2">
    {{#if china}}
        <table class="table table-hover table-striped shadow-sm chinaTable" id="chinaTable">
            <thead>
                <tr>
                    <th onclick="location.reload()" scope="col"><b>SELECT</b></th>
                    <th scope="col"><b>ACCOUNT</b></th>
                    <th scope="col"><b>BOX</b></th>
                    <th scope="col"><b>DETAIL</b></th>
                    <th scope="col"><b>QTY/BOX</b></th>
                    <th scope="col"><b>SKU</b></th>
                </tr>
            </thead>
            <tbody>
                {{#each boxes as |box|}}
                    {{> dq_china box }}
                {{else}}
                <h3 class="text-center">NO ORDER WAS FOUND!</h3>
                {{/each}}
            </tbody>
        </table>
    {{else}}
        {{#if amazon}}
            <table class="table table-hover shadow-sm table-striped containerTable" id="containerTable">
                <thead>
                    <tr>
                        <th onclick="location.reload()"><b>SELECT</b></th>
                        <th><b>ACCOUNT</b></th>
                        <th><b>CONTAINER</b></th>
                        <th><b>SKUs</b></th>
                    </tr>
                </thead>
                <tbody>
                {{#each containers as |container|}}
                    {{> dq_container container }}
                {{else}}
                <h3 class="text-center">NO ORDER WAS FOUND!</h3>
                {{/each}}
                </tbody>
            </table>
        {{else}}
        <div class="table table-hover shadow-sm table-striped container shadow-sm rounded">
            <table class="skuTable" id="skuTable">
                <thead>
                    <tr>
                        <th onclick="location.reload()"><b>SELECT</b></th>
                        <th><b>SKU</b></th>
                        <th><b>CONTAINER</b></th>
                    </tr>
                </thead>
                <tbody>
                {{#each items as |item|}}
                    {{> select-confirmation item }}
                {{else}}
                <h3 class="text-center">NO ORDER WAS FOUND!</h3>
                {{/each}}
                </tbody>
            </table>
        {{/if}}
    {{/if}}
</div>

<script>
        (function(document) {
            'use strict';
            var TableFilter = (function(myArray) {
                var search_input;
                function _onInputSearch(e) {
                    search_input = e.target;
                    var tables = document.getElementsByClassName(search_input.getAttribute('data-table'));
                    myArray.forEach.call(tables, function(table) {
                        myArray.forEach.call(table.tBodies, function(tbody) {
                            myArray.forEach.call(tbody.rows, function(row) {
                                var text_content = row.textContent.toLowerCase();
                                var search_val = search_input.value.toLowerCase();
                                row.style.display = text_content.indexOf(search_val) > -1 ? '' : 'none';
                            });
                        });
                    });
                }
                return {
                    init: function() {
                        var inputs = document.getElementsByClassName('search-input');
                        myArray.forEach.call(inputs, function(input) {
                            input.oninput = _onInputSearch;
                        });
                    }
                };
            })(Array.prototype);
            document.addEventListener('readystatechange', function() {
                if (document.readyState === 'complete') {
                    TableFilter.init();
                }
            });

        })(document);
    </script>
